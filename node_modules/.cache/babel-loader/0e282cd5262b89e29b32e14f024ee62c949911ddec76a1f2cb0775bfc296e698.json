{"ast":null,"code":"import React from'react';import{useLocation,useNavigate}from'react-router-dom';import'./Character.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PlotResult(){var _location$state;const navigate=useNavigate();const location=useLocation();const images=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.images)||[];// Функция для скачивания всех изображений по очереди (zip или по отдельности)\n// Чтобы просто скачать по отдельности — сделаем по кнопке для каждого изображения.\n// Для массового скачивания нужен zip и библиотека, упрощаем пока.\nconst downloadImage=(base64,index)=>{const link=document.createElement('a');link.href=\"data:image/webp;base64,\".concat(base64);link.download=\"plot_image_\".concat(index+1,\".webp\");document.body.appendChild(link);link.click();document.body.removeChild(link);};if(images.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"character-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"character-title\",children:\"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442 \\u0433\\u0435\\u043D\\u0435\\u0440\\u0430\\u0446\\u0438\\u0438\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0435\\u0442 \\u0441\\u0433\\u0435\\u043D\\u0435\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0439. \\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u0432\\u0435\\u0440\\u043D\\u0438\\u0442\\u0435\\u0441\\u044C \\u0438 \\u0441\\u043E\\u0437\\u0434\\u0430\\u0439\\u0442\\u0435 \\u0441\\u044E\\u0436\\u0435\\u0442.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/generate-plot'),className:\"character-btn\",children:\"\\u041D\\u0430\\u0437\\u0430\\u0434 \\u043A \\u0441\\u044E\\u0436\\u0435\\u0442\\u0443\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"character-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"character-title\",children:\"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442 \\u0433\\u0435\\u043D\\u0435\\u0440\\u0430\\u0446\\u0438\\u0438\"}),/*#__PURE__*/_jsx(\"div\",{className:\"plot-result-images\",style:{display:'flex',gap:20,flexWrap:'wrap',justifyContent:'center'},children:images.map((img,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"data:image/webp;base64,\".concat(img),alt:\"plot result \".concat(idx+1),style:{width:200,borderRadius:8,boxShadow:'0 0 8px rgba(0,0,0,0.2)'}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>downloadImage(img,idx),className:\"character-btn\",style:{marginTop:8,fontSize:14},children:\"\\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C\"})]},idx))}),/*#__PURE__*/_jsxs(\"div\",{className:\"navigation-buttons\",style:{marginTop:30},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/generate-plot'),className:\"character-btn\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0441\\u044E\\u0436\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"character-btn\",style:{marginLeft:10},children:\"\\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"})]})]});}","map":{"version":3,"names":["React","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","PlotResult","_location$state","navigate","location","images","state","downloadImage","base64","index","link","document","createElement","href","concat","download","body","appendChild","click","removeChild","length","className","children","onClick","style","display","gap","flexWrap","justifyContent","map","img","idx","textAlign","src","alt","width","borderRadius","boxShadow","marginTop","fontSize","marginLeft"],"sources":["/root/diplomka/src/pages/PlotResult.js"],"sourcesContent":["import React from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport './Character.css';\n\nexport default function PlotResult() {\n    const navigate = useNavigate();\n    const location = useLocation();\n    const images = location.state?.images || [];\n\n    // Функция для скачивания всех изображений по очереди (zip или по отдельности)\n    // Чтобы просто скачать по отдельности — сделаем по кнопке для каждого изображения.\n    // Для массового скачивания нужен zip и библиотека, упрощаем пока.\n    const downloadImage = (base64, index) => {\n        const link = document.createElement('a');\n        link.href = `data:image/webp;base64,${base64}`;\n        link.download = `plot_image_${index + 1}.webp`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n    };\n\n    if (images.length === 0) {\n        return (\n            <div className=\"character-container\">\n                <h1 className=\"character-title\">Результат генерации</h1>\n                <p>Нет сгенерированных изображений. Пожалуйста, вернитесь и создайте сюжет.</p>\n                <button onClick={() => navigate('/generate-plot')} className=\"character-btn\">\n                    Назад к сюжету\n                </button>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"character-container\">\n            <h1 className=\"character-title\">Результат генерации</h1>\n            <div className=\"plot-result-images\" style={{ display: 'flex', gap: 20, flexWrap: 'wrap', justifyContent: 'center' }}>\n                {images.map((img, idx) => (\n                    <div key={idx} style={{ textAlign: 'center' }}>\n                        <img\n                            src={`data:image/webp;base64,${img}`}\n                            alt={`plot result ${idx + 1}`}\n                            style={{ width: 200, borderRadius: 8, boxShadow: '0 0 8px rgba(0,0,0,0.2)' }}\n                        />\n                        <button\n                            onClick={() => downloadImage(img, idx)}\n                            className=\"character-btn\"\n                            style={{ marginTop: 8, fontSize: 14 }}\n                        >\n                            Скачать\n                        </button>\n                    </div>\n                ))}\n            </div>\n            <div className=\"navigation-buttons\" style={{ marginTop: 30 }}>\n                <button onClick={() => navigate('/generate-plot')} className=\"character-btn\">\n                    Создать новый сюжет\n                </button>\n                <button onClick={() => navigate('/')} className=\"character-btn\" style={{ marginLeft: 10 }}>\n                    На главную\n                </button>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
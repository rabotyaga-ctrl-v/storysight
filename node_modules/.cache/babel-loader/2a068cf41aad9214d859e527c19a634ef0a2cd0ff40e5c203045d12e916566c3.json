{"ast":null,"code":"import React,{useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import'./CreateChoice.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateChoice(){const navigate=useNavigate();const location=useLocation();useEffect(()=>{// Проверяем наличие токена в localStorage (или другого маркера авторизации)\nconst token=localStorage.getItem('token');if(!token){// Если не авторизован, редирект на /login\n// Передаём в state текущий путь для возврата после логина\nnavigate('/login',{state:{from:location.pathname}});}},[navigate,location.pathname]);// Если пользователь не авторизован — этот компонент быстро уйдёт с экрана,\n// но на всякий случай возвращаем null, чтобы не показывать UI на время редиректа\nconst token=localStorage.getItem('token');if(!token)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"create-choice-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043F\\u043E\\u0441\\u043E\\u0431 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u044F \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0438\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>navigate('/manual'),children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043C \\u0441\\u0430\\u043C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>navigate('/template'),children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435 \\u0441 \\u043F\\u043E\\u043C\\u043E\\u0449\\u044C\\u044E \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u043E\\u0432\"})]})]});}","map":{"version":3,"names":["React","useEffect","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","CreateChoice","navigate","location","token","localStorage","getItem","state","from","pathname","className","children","onClick"],"sources":["/var/www/storysight/src/pages/CreateChoice.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport './CreateChoice.css';\n\nexport default function CreateChoice() {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    // Проверяем наличие токена в localStorage (или другого маркера авторизации)\n    const token = localStorage.getItem('token');\n    if (!token) {\n      // Если не авторизован, редирект на /login\n      // Передаём в state текущий путь для возврата после логина\n      navigate('/login', { state: { from: location.pathname } });\n    }\n  }, [navigate, location.pathname]);\n\n  // Если пользователь не авторизован — этот компонент быстро уйдёт с экрана,\n  // но на всякий случай возвращаем null, чтобы не показывать UI на время редиректа\n  const token = localStorage.getItem('token');\n  if (!token) return null;\n\n  return (\n    <div className=\"create-choice-container\">\n      <h1>Выберите способ создания истории</h1>\n\n      <div className=\"button-group\">\n        <button\n          className=\"btn btn-primary\"\n          onClick={() => navigate('/manual')}\n        >\n          Создам сам\n        </button>\n\n        <button\n          className=\"btn btn-secondary\"\n          onClick={() => navigate('/template')}\n        >\n          Создание с помощью шаблонов\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAAG,CACrC,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAQ,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAU,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACV;AACA;AACAF,QAAQ,CAAC,QAAQ,CAAE,CAAEK,KAAK,CAAE,CAAEC,IAAI,CAAEL,QAAQ,CAACM,QAAS,CAAE,CAAC,CAAC,CAC5D,CACF,CAAC,CAAE,CAACP,QAAQ,CAAEC,QAAQ,CAACM,QAAQ,CAAC,CAAC,CAEjC;AACA;AACA,KAAM,CAAAL,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,MAAO,KAAI,CAEvB,mBACEJ,KAAA,QAAKU,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCb,IAAA,OAAAa,QAAA,CAAI,mLAAgC,CAAI,CAAC,cAEzCX,KAAA,QAAKU,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3Bb,IAAA,WACEY,SAAS,CAAC,iBAAiB,CAC3BE,OAAO,CAAEA,CAAA,GAAMV,QAAQ,CAAC,SAAS,CAAE,CAAAS,QAAA,CACpC,yDAED,CAAQ,CAAC,cAETb,IAAA,WACEY,SAAS,CAAC,mBAAmB,CAC7BE,OAAO,CAAEA,CAAA,GAAMV,QAAQ,CAAC,WAAW,CAAE,CAAAS,QAAA,CACtC,qJAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import'./Generate.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const artStyles=[{id:'cartoon',label:'Мультяшный стиль',img:'/images/photo4.jpg',tooltip:'Яркие цвета, упрощённые формы, динамичный мультяшный стиль.'},{id:'anime',label:'Аниме стиль',img:'/images/photo2.jpg',tooltip:'Стиль японской анимации с выразительными глазами и детализированными персонажами.'},{id:'vangogh',label:'Стиль Ван Гога',img:'/images/photo3.jpg',tooltip:'Импрессионизм, мазки кисти и живописные текстуры как у Ван Гога.'}];export default function GenerateCharacter(){const navigate=useNavigate();const[description,setDescription]=useState('');const[selectedStyle,setSelectedStyle]=useState(null);const[loadingGenerate,setLoadingGenerate]=useState(false);const[generatedPrompt,setGeneratedPrompt]=useState('');const[imageBase64,setImageBase64]=useState(null);const[showResult,setShowResult]=useState(false);const[saving,setSaving]=useState(false);const promptInstructions=\"\\n\\u041A\\u0430\\u043A \\u043D\\u0430\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C \\u0445\\u043E\\u0440\\u043E\\u0448\\u0438\\u0439 \\u043F\\u0440\\u043E\\u043C\\u043F\\u0442 \\u0434\\u043B\\u044F \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u0436\\u0430:\\n- \\u041E\\u043F\\u0438\\u0448\\u0438\\u0442\\u0435 \\u0432\\u043D\\u0435\\u0448\\u043D\\u0438\\u0439 \\u0432\\u0438\\u0434: \\u0432\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442, \\u043F\\u043E\\u043B, \\u043E\\u0434\\u0435\\u0436\\u0434\\u0443, \\u043F\\u043E\\u0437\\u0443.\\n- \\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0447\\u0435\\u0440\\u0442\\u044B \\u0445\\u0430\\u0440\\u0430\\u043A\\u0442\\u0435\\u0440\\u0430: \\u0443\\u043B\\u044B\\u0431\\u0447\\u0438\\u0432\\u044B\\u0439, \\u043C\\u0440\\u0430\\u0447\\u043D\\u044B\\u0439, \\u0440\\u0435\\u0448\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u0439.\\n- \\u0423\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u0444\\u043E\\u043D \\u0438\\u043B\\u0438 \\u043E\\u043A\\u0440\\u0443\\u0436\\u0435\\u043D\\u0438\\u0435, \\u0435\\u0441\\u043B\\u0438 \\u0432\\u0430\\u0436\\u043D\\u043E.\\n- \\u041C\\u043E\\u0436\\u043D\\u043E \\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0442\\u0438\\u043B\\u0438\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u0434\\u0435\\u0442\\u0430\\u043B\\u0438: \\u044F\\u0440\\u043A\\u0438\\u0435 \\u0446\\u0432\\u0435\\u0442\\u0430, \\u0442\\u0451\\u043C\\u043D\\u044B\\u0439 \\u0444\\u043E\\u043D, \\u0444\\u044D\\u043D\\u0442\\u0435\\u0437\\u0438.\\n- \\u0427\\u0435\\u043C \\u043F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435, \\u0442\\u0435\\u043C \\u043B\\u0443\\u0447\\u0448\\u0435!\\n\\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440: \\\"\\u041C\\u043E\\u043B\\u043E\\u0434\\u043E\\u0439 \\u0440\\u044B\\u0446\\u0430\\u0440\\u044C \\u0432 \\u0431\\u043B\\u0435\\u0441\\u0442\\u044F\\u0449\\u0438\\u0445 \\u0434\\u043E\\u0441\\u043F\\u0435\\u0445\\u0430\\u0445, \\u0441 \\u0440\\u0435\\u0448\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u043C \\u0432\\u0437\\u0433\\u043B\\u044F\\u0434\\u043E\\u043C, \\u043D\\u0430 \\u0444\\u043E\\u043D\\u0435 \\u0441\\u0442\\u0430\\u0440\\u0438\\u043D\\u043D\\u043E\\u0433\\u043E \\u0437\\u0430\\u043C\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0442\\u0435, \\u0432 \\u0441\\u0442\\u0438\\u043B\\u0435 \\u043C\\u0443\\u043B\\u044C\\u0442\\u0444\\u0438\\u043B\\u044C\\u043C\\u0430.\\\"\\n\".trim();const handleGenerateClick=async()=>{if(!description.trim()){alert('Пожалуйста, опишите вашего персонажа.');return;}if(!selectedStyle){alert('Выберите стиль изображения.');return;}setLoadingGenerate(true);setShowResult(false);setGeneratedPrompt('');setImageBase64(null);try{const response=await fetch('/generate-character/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text:description.trim(),style:selectedStyle})});const data=await response.json();if(response.ok){setGeneratedPrompt(data.prompt_with_style||'');setImageBase64(data.image_base64||null);setShowResult(true);}else{alert(data.error||'Ошибка при генерации.');}}catch(error){console.error(error);alert('Ошибка при подключении к серверу.');}finally{setLoadingGenerate(false);}};const handleReset=()=>{setDescription('');setSelectedStyle(null);setGeneratedPrompt('');setImageBase64(null);setShowResult(false);};const handleDownload=()=>{if(!imageBase64)return;const link=document.createElement('a');link.href=\"data:image/webp;base64,\".concat(imageBase64);link.download='character.webp';link.click();};const handleSaveProject=async()=>{if(!imageBase64){alert('Нет изображения для сохранения.');return;}setSaving(true);try{// Пример запроса на сохранение в \"Мои проекты\"\nconst response=await fetch('/save-character-project/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({description,style:selectedStyle,prompt:generatedPrompt,image_base64:imageBase64})});const data=await response.json();if(response.ok){alert('Проект успешно сохранён!');}else{alert(data.error||'Ошибка при сохранении проекта.');}}catch(error){console.error(error);alert('Ошибка при подключении к серверу.');}finally{setSaving(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"generate-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"generate-title\",children:\"\\u0413\\u0435\\u043D\\u0435\\u0440\\u0430\\u0446\\u0438\\u044F \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u0436\\u0430\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"generate-result\",children:promptInstructions}),/*#__PURE__*/_jsx(\"textarea\",{className:\"generate-textarea\",placeholder:\"\\u041E\\u043F\\u0438\\u0448\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0435\\u0433\\u043E \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u0436\\u0430...\",value:description,onChange:e=>setDescription(e.target.value),disabled:loadingGenerate||saving}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u0442\\u0438\\u043B\\u044C:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"generate-templates\",children:artStyles.map(_ref=>{let{id,label,img,tooltip}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"generate-template-box \".concat(selectedStyle===id?'selected':''),title:tooltip,onClick:()=>!loadingGenerate&&!saving&&setSelectedStyle(id),children:[/*#__PURE__*/_jsx(\"img\",{src:img,alt:label}),/*#__PURE__*/_jsx(\"div\",{children:label})]},id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"generate-nav\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),disabled:loadingGenerate||saving,className:\"generate-btn\",children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateClick,disabled:loadingGenerate||saving,className:\"generate-btn\",children:loadingGenerate?'Генерация...':'Отправить'})]}),showResult&&imageBase64&&/*#__PURE__*/_jsxs(\"div\",{className:\"generate-result\",style:{marginTop:30},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:18,fontWeight:'700',marginBottom:10},children:\"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442:\"}),/*#__PURE__*/_jsx(\"p\",{style:{whiteSpace:'pre-wrap'},children:generatedPrompt}),/*#__PURE__*/_jsx(\"img\",{src:\"data:image/webp;base64,\".concat(imageBase64),alt:\"Generated character\",style:{maxWidth:'100%',marginTop:20,borderRadius:16}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:10,marginTop:20,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDownload,className:\"generate-btn\",disabled:saving,children:\"\\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveProject,className:\"generate-btn\",disabled:saving,children:saving?'Сохранение...':'Сохранить в мои проекты'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReset,className:\"generate-btn\",style:{backgroundColor:'#ccc',color:'#000'},disabled:saving,children:\"\\u041D\\u0430\\u0447\\u0430\\u0442\\u044C \\u0437\\u0430\\u043D\\u043E\\u0432\\u043E\"})]})]})]});}","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","artStyles","id","label","img","tooltip","GenerateCharacter","navigate","description","setDescription","selectedStyle","setSelectedStyle","loadingGenerate","setLoadingGenerate","generatedPrompt","setGeneratedPrompt","imageBase64","setImageBase64","showResult","setShowResult","saving","setSaving","promptInstructions","trim","handleGenerateClick","alert","response","fetch","method","headers","body","JSON","stringify","text","style","data","json","ok","prompt_with_style","image_base64","error","console","handleReset","handleDownload","link","document","createElement","href","concat","download","click","handleSaveProject","prompt","className","children","placeholder","value","onChange","e","target","disabled","marginTop","map","_ref","title","onClick","src","alt","fontSize","fontWeight","marginBottom","whiteSpace","maxWidth","borderRadius","display","gap","flexWrap","backgroundColor","color"],"sources":["/var/www/storysight/src/pages/GenerateCharacter.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Generate.css';\n\nconst artStyles = [\n    {\n        id: 'cartoon',\n        label: 'Мультяшный стиль',\n        img: '/images/photo4.jpg',\n        tooltip: 'Яркие цвета, упрощённые формы, динамичный мультяшный стиль.',\n    },\n    {\n        id: 'anime',\n        label: 'Аниме стиль',\n        img: '/images/photo2.jpg',\n        tooltip: 'Стиль японской анимации с выразительными глазами и детализированными персонажами.',\n    },\n    {\n        id: 'vangogh',\n        label: 'Стиль Ван Гога',\n        img: '/images/photo3.jpg',\n        tooltip: 'Импрессионизм, мазки кисти и живописные текстуры как у Ван Гога.',\n    },\n];\n\nexport default function GenerateCharacter() {\n    const navigate = useNavigate();\n\n    const [description, setDescription] = useState('');\n    const [selectedStyle, setSelectedStyle] = useState(null);\n    const [loadingGenerate, setLoadingGenerate] = useState(false);\n    const [generatedPrompt, setGeneratedPrompt] = useState('');\n    const [imageBase64, setImageBase64] = useState(null);\n    const [showResult, setShowResult] = useState(false);\n    const [saving, setSaving] = useState(false);\n\n    const promptInstructions = `\nКак написать хороший промпт для изображения персонажа:\n- Опишите внешний вид: возраст, пол, одежду, позу.\n- Добавьте черты характера: улыбчивый, мрачный, решительный.\n- Укажите фон или окружение, если важно.\n- Можно добавить стилистические детали: яркие цвета, тёмный фон, фэнтези.\n- Чем подробнее, тем лучше!\nНапример: \"Молодой рыцарь в блестящих доспехах, с решительным взглядом, на фоне старинного замка при закате, в стиле мультфильма.\"\n`.trim();\n\n    const handleGenerateClick = async () => {\n        if (!description.trim()) {\n            alert('Пожалуйста, опишите вашего персонажа.');\n            return;\n        }\n        if (!selectedStyle) {\n            alert('Выберите стиль изображения.');\n            return;\n        }\n\n        setLoadingGenerate(true);\n        setShowResult(false);\n        setGeneratedPrompt('');\n        setImageBase64(null);\n\n        try {\n            const response = await fetch('/generate-character/', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    text: description.trim(),\n                    style: selectedStyle,\n                }),\n            });\n\n            const data = await response.json();\n\n            if (response.ok) {\n                setGeneratedPrompt(data.prompt_with_style || '');\n                setImageBase64(data.image_base64 || null);\n                setShowResult(true);\n            } else {\n                alert(data.error || 'Ошибка при генерации.');\n            }\n        } catch (error) {\n            console.error(error);\n            alert('Ошибка при подключении к серверу.');\n        } finally {\n            setLoadingGenerate(false);\n        }\n    };\n\n    const handleReset = () => {\n        setDescription('');\n        setSelectedStyle(null);\n        setGeneratedPrompt('');\n        setImageBase64(null);\n        setShowResult(false);\n    };\n\n    const handleDownload = () => {\n        if (!imageBase64) return;\n        const link = document.createElement('a');\n        link.href = `data:image/webp;base64,${imageBase64}`;\n        link.download = 'character.webp';\n        link.click();\n    };\n\n    const handleSaveProject = async () => {\n        if (!imageBase64) {\n            alert('Нет изображения для сохранения.');\n            return;\n        }\n        setSaving(true);\n        try {\n            // Пример запроса на сохранение в \"Мои проекты\"\n            const response = await fetch('/save-character-project/', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    description,\n                    style: selectedStyle,\n                    prompt: generatedPrompt,\n                    image_base64: imageBase64,\n                }),\n            });\n            const data = await response.json();\n            if (response.ok) {\n                alert('Проект успешно сохранён!');\n            } else {\n                alert(data.error || 'Ошибка при сохранении проекта.');\n            }\n        } catch (error) {\n            console.error(error);\n            alert('Ошибка при подключении к серверу.');\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    return (\n        <div className=\"generate-container\">\n            <h1 className=\"generate-title\">Генерация персонажа</h1>\n\n            <pre className=\"generate-result\">{promptInstructions}</pre>\n\n            <textarea\n                className=\"generate-textarea\"\n                placeholder=\"Опишите вашего персонажа...\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                disabled={loadingGenerate || saving}\n            />\n\n            <div className=\"input-group\" style={{ marginTop: 20 }}>\n                <label className=\"input-label\">Выберите стиль:</label>\n                <div className=\"generate-templates\">\n                    {artStyles.map(({ id, label, img, tooltip }) => (\n                        <div\n                            key={id}\n                            className={`generate-template-box ${selectedStyle === id ? 'selected' : ''}`}\n                            title={tooltip}\n                            onClick={() => !loadingGenerate && !saving && setSelectedStyle(id)}\n                        >\n                            <img src={img} alt={label} />\n                            <div>{label}</div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            <div className=\"generate-nav\">\n                <button onClick={() => navigate('/')} disabled={loadingGenerate || saving} className=\"generate-btn\">\n                    Назад\n                </button>\n                <button onClick={handleGenerateClick} disabled={loadingGenerate || saving} className=\"generate-btn\">\n                    {loadingGenerate ? 'Генерация...' : 'Отправить'}\n                </button>\n            </div>\n\n            {showResult && imageBase64 && (\n                <div className=\"generate-result\" style={{ marginTop: 30 }}>\n                    <h2 style={{ fontSize: 18, fontWeight: '700', marginBottom: 10 }}>Результат:</h2>\n                    <p style={{ whiteSpace: 'pre-wrap' }}>{generatedPrompt}</p>\n                    <img\n                        src={`data:image/webp;base64,${imageBase64}`}\n                        alt=\"Generated character\"\n                        style={{ maxWidth: '100%', marginTop: 20, borderRadius: 16 }}\n                    />\n\n                    <div style={{ display: 'flex', gap: 10, marginTop: 20, flexWrap: 'wrap' }}>\n                        <button onClick={handleDownload} className=\"generate-btn\" disabled={saving}>\n                            Скачать изображение\n                        </button>\n\n                        <button onClick={handleSaveProject} className=\"generate-btn\" disabled={saving}>\n                            {saving ? 'Сохранение...' : 'Сохранить в мои проекты'}\n                        </button>\n\n                        <button\n                            onClick={handleReset}\n                            className=\"generate-btn\"\n                            style={{ backgroundColor: '#ccc', color: '#000' }}\n                            disabled={saving}\n                        >\n                            Начать заново\n                        </button>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
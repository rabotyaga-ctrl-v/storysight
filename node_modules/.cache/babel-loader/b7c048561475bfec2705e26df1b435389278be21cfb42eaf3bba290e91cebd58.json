{"ast":null,"code":"import React from'react';import{useLocation,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ResultMain(){var _location$state;const location=useLocation();const navigate=useNavigate();const images=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.images)||[];if(images.length===0){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041D\\u0435\\u0442 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0439 \\u0434\\u043B\\u044F \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),children:\"\\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"})]});}const handleDownload=url=>{// скачиваем картинку по url\nconst link=document.createElement('a');link.href=url;link.download=url.split('/').pop();document.body.appendChild(link);link.click();document.body.removeChild(link);};const handleSaveProject=()=>{alert('Функция сохранения пока не реализована.');};return/*#__PURE__*/_jsxs(\"div\",{className:\"result-main-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0412\\u0430\\u0448\\u0438 \\u0441\\u0433\\u0435\\u043D\\u0435\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"images-grid\",children:images.map((_ref,i)=>{let{url,prompt}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"image-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:url,alt:\"Generated \".concat(i)}),/*#__PURE__*/_jsx(\"div\",{className:\"image-overlay\",children:/*#__PURE__*/_jsx(\"p\",{children:prompt})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownload(url),className:\"download-btn\",children:\"\\u0421\\u043A\\u0430\\u0447\\u0430\\u0442\\u044C\"})]},i);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-row\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"btn-home\",children:\"\\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveProject,className:\"btn-save\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0432 \\u043C\\u043E\\u0438 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B\"})]})]});}","map":{"version":3,"names":["React","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","ResultMain","_location$state","location","navigate","images","state","length","children","onClick","handleDownload","url","link","document","createElement","href","download","split","pop","body","appendChild","click","removeChild","handleSaveProject","alert","className","map","_ref","i","prompt","src","alt","concat"],"sources":["/root/diplomka/src/pages/ResultMain.js"],"sourcesContent":["import React from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nexport default function ResultMain() {\n    const location = useLocation();\n    const navigate = useNavigate();\n    const images = location.state?.images || [];\n\n    if (images.length === 0) {\n        return (\n            <div>\n                <h2>Нет изображений для отображения</h2>\n                <button onClick={() => navigate('/')}>На главную</button>\n            </div>\n        );\n    }\n\n    const handleDownload = (url) => {\n        // скачиваем картинку по url\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = url.split('/').pop();\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n    };\n\n    const handleSaveProject = () => {\n        alert('Функция сохранения пока не реализована.');\n    };\n\n    return (\n        <div className=\"result-main-wrapper\">\n            <h1>Ваши сгенерированные изображения</h1>\n\n            <div className=\"images-grid\">\n                {images.map(({ url, prompt }, i) => (\n                    <div className=\"image-card\" key={i}>\n                        <div className=\"image-wrapper\">\n                            <img src={url} alt={`Generated ${i}`} />\n                            <div className=\"image-overlay\">\n                                <p>{prompt}</p>\n                            </div>\n                        </div>\n                        <button onClick={() => handleDownload(url)} className=\"download-btn\">Скачать</button>\n                    </div>\n                ))}\n            </div>\n\n            <div className=\"buttons-row\">\n                <button onClick={() => navigate('/')} className=\"btn-home\">На главную</button>\n                <button onClick={handleSaveProject} className=\"btn-save\">Сохранить в мои проекты</button>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5D,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,KAAAC,eAAA,CACjC,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAS,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAS,MAAM,CAAG,EAAAH,eAAA,CAAAC,QAAQ,CAACG,KAAK,UAAAJ,eAAA,iBAAdA,eAAA,CAAgBG,MAAM,GAAI,EAAE,CAE3C,GAAIA,MAAM,CAACE,MAAM,GAAK,CAAC,CAAE,CACrB,mBACIP,KAAA,QAAAQ,QAAA,eACIV,IAAA,OAAAU,QAAA,CAAI,6KAA+B,CAAI,CAAC,cACxCV,IAAA,WAAQW,OAAO,CAAEA,CAAA,GAAML,QAAQ,CAAC,GAAG,CAAE,CAAAI,QAAA,CAAC,yDAAU,CAAQ,CAAC,EACxD,CAAC,CAEd,CAEA,KAAM,CAAAE,cAAc,CAAIC,GAAG,EAAK,CAC5B;AACA,KAAM,CAAAC,IAAI,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACxCF,IAAI,CAACG,IAAI,CAAGJ,GAAG,CACfC,IAAI,CAACI,QAAQ,CAAGL,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CACpCL,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,IAAI,CAAC,CAC/BA,IAAI,CAACS,KAAK,CAAC,CAAC,CACZR,QAAQ,CAACM,IAAI,CAACG,WAAW,CAACV,IAAI,CAAC,CACnC,CAAC,CAED,KAAM,CAAAW,iBAAiB,CAAGA,CAAA,GAAM,CAC5BC,KAAK,CAAC,yCAAyC,CAAC,CACpD,CAAC,CAED,mBACIxB,KAAA,QAAKyB,SAAS,CAAC,qBAAqB,CAAAjB,QAAA,eAChCV,IAAA,OAAAU,QAAA,CAAI,wLAAgC,CAAI,CAAC,cAEzCV,IAAA,QAAK2B,SAAS,CAAC,aAAa,CAAAjB,QAAA,CACvBH,MAAM,CAACqB,GAAG,CAAC,CAAAC,IAAA,CAAkBC,CAAC,OAAlB,CAAEjB,GAAG,CAAEkB,MAAO,CAAC,CAAAF,IAAA,oBACxB3B,KAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAjB,QAAA,eACvBR,KAAA,QAAKyB,SAAS,CAAC,eAAe,CAAAjB,QAAA,eAC1BV,IAAA,QAAKgC,GAAG,CAAEnB,GAAI,CAACoB,GAAG,cAAAC,MAAA,CAAeJ,CAAC,CAAG,CAAE,CAAC,cACxC9B,IAAA,QAAK2B,SAAS,CAAC,eAAe,CAAAjB,QAAA,cAC1BV,IAAA,MAAAU,QAAA,CAAIqB,MAAM,CAAI,CAAC,CACd,CAAC,EACL,CAAC,cACN/B,IAAA,WAAQW,OAAO,CAAEA,CAAA,GAAMC,cAAc,CAACC,GAAG,CAAE,CAACc,SAAS,CAAC,cAAc,CAAAjB,QAAA,CAAC,4CAAO,CAAQ,CAAC,GAPxDoB,CAQ5B,CAAC,EACT,CAAC,CACD,CAAC,cAEN5B,KAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAjB,QAAA,eACxBV,IAAA,WAAQW,OAAO,CAAEA,CAAA,GAAML,QAAQ,CAAC,GAAG,CAAE,CAACqB,SAAS,CAAC,UAAU,CAAAjB,QAAA,CAAC,yDAAU,CAAQ,CAAC,cAC9EV,IAAA,WAAQW,OAAO,CAAEc,iBAAkB,CAACE,SAAS,CAAC,UAAU,CAAAjB,QAAA,CAAC,6HAAuB,CAAQ,CAAC,EACxF,CAAC,EACL,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
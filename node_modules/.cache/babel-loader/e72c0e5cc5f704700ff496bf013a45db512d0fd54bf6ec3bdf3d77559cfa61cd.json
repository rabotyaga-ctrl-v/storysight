{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import'./Template.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Template(){const[storyText,setStoryText]=useState('');const[selectedCharacter,setSelectedCharacter]=useState(null);const[numImages,setNumImages]=useState(1);const[errorMessage,setErrorMessage]=useState('');const[isLoading,setIsLoading]=useState(false);const[isAuthorized,setIsAuthorized]=useState(null);const[showModal,setShowModal]=useState(false);const modalRef=useRef(null);const navigate=useNavigate();const characterTemplates=[{id:'cockatiel',title:'Cockatiel',description:'Весёлые и неугомонные попугаи. Прорекламируют ваш продукт, если вы, конечно, их поймаете.'},{id:'cat',title:'Cat',description:'Ловкий, пушистый и абсолютно не заинтересован в вашем проекте. Но выглядит шикарно, признайте!'},{id:'black_bear',title:'Black bear',description:'Интроверт из мира медведей. Теперь он путешествует и даже пишет свою книгу. Раньше проживал в России.'},{id:'raven',title:'Raven',description:'Ворон-минималист. Немногословен. Оно и понятно, ведь птицы не говорят. Самое главное, что он здесь.'},{id:'tiger',title:'Tiger',description:'Уверенный, красивый и всё такой же опасный. Харизма на максималках. Хищник, инфлюенсер и икона стиля.'}];const API_URL='http://storysight.ru/api/generate-comic';// Проверка авторизации при загрузке\nuseEffect(()=>{fetch('http://storysight.ru/api/auth/me',{credentials:'include'}).then(res=>res.ok?res.json():Promise.reject()).then(()=>{setIsAuthorized(true);setShowModal(false);}).catch(()=>{setIsAuthorized(false);setShowModal(true);});},[]);// Обработчик Telegram авторизации\nuseEffect(()=>{window.onTelegramAuth=user=>{fetch('http://storysight.ru/api/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify(user)}).then(res=>{if(res.ok){setIsAuthorized(true);setShowModal(false);}else{alert('Ошибка авторизации через Telegram');}}).catch(err=>{console.error('Auth error',err);alert('Ошибка авторизации через Telegram');});};return()=>{window.onTelegramAuth=null;};},[]);// Вставка Telegram-виджета\nuseEffect(()=>{if(showModal&&modalRef.current){modalRef.current.innerHTML='';const existingScript=document.querySelector('script[src=\"https://telegram.org/js/telegram-widget.js?22\"]');if(existingScript)existingScript.remove();const script=document.createElement('script');script.src='https://telegram.org/js/telegram-widget.js?22';script.async=true;script.setAttribute('data-telegram-login','zavod_worker_bot');script.setAttribute('data-size','large');script.setAttribute('data-userpic','false');script.setAttribute('data-onauth','onTelegramAuth(user)');script.setAttribute('data-request-access','write');modalRef.current.appendChild(script);}},[showModal]);const handleSubmit=async()=>{if(!isAuthorized){setErrorMessage('Пожалуйста, авторизуйтесь через Telegram.');setShowModal(true);return;}if(!storyText.trim()){setErrorMessage('Пожалуйста, введите сюжет.');return;}if(!selectedCharacter){setErrorMessage('Пожалуйста, выберите персонажа.');return;}setErrorMessage('');setIsLoading(true);try{const response=await fetch(API_URL,{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({prompt:storyText,character_name:selectedCharacter,num_images:numImages})});if(!response.ok){throw new Error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0433\\u0435\\u043D\\u0435\\u0440\\u0430\\u0446\\u0438\\u0438: \".concat(response.statusText));}const data=await response.json();const imageBase64List=data.images.map(img=>\"data:image/png;base64,\".concat(img));navigate('/result-main',{state:{images:imageBase64List,storyline:data.storyline,prompts:data.prompts||[]}});}catch(error){console.error('Ошибка:',error);setErrorMessage('Произошла ошибка при генерации. Проверьте подключение и попробуйте снова.');}finally{setIsLoading(false);}};if(isAuthorized===null)return/*#__PURE__*/_jsx(\"div\",{className:\"choise-wrapper\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"choise-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"choise-heading\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0439\\u0442\\u0435 \\u0441\\u0432\\u043E\\u0439 \\u0441\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435\\u043B\\u043B\\u0438\\u043D\\u0433\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"story-textarea\",placeholder:\"\\u041D\\u0430\\u043F\\u0438\\u0448\\u0438\\u0442\\u0435 \\u0437\\u0434\\u0435\\u0441\\u044C \\u043D\\u0435\\u0431\\u043E\\u043B\\u044C\\u0448\\u043E\\u0439 \\u0441\\u044E\\u0436\\u0435\\u0442 \\u0432\\u0430\\u0448\\u0435\\u0439 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0438...\",value:storyText,onChange:e=>setStoryText(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:\"character-grid\",children:characterTemplates.map(template=>/*#__PURE__*/_jsx(\"div\",{className:\"character-card-container \".concat(selectedCharacter===template.id?'selected':''),onClick:()=>setSelectedCharacter(template.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"character-card-inner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"character-card-front\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/\".concat(template.id,\".jpg\"),alt:template.title,className:\"character-img\",loading:\"lazy\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"character-title\",children:template.title})]}),/*#__PURE__*/_jsx(\"div\",{className:\"character-card-back\",children:/*#__PURE__*/_jsx(\"p\",{children:template.description})})]})},template.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"slider-wrapper\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"numImages\",className:\"slider-label\",children:[\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0439: \",numImages]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",id:\"numImages\",min:\"1\",max:\"8\",value:numImages,onChange:e=>setNumImages(parseInt(e.target.value)),className:\"slider\"})]}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errorMessage}),/*#__PURE__*/_jsx(\"button\",{className:\"generate-btn\",onClick:handleSubmit,disabled:isLoading,children:isLoading?'Генерация…':'Сгенерировать комикс'}),/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:()=>navigate(\"/create-choice\"),children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",onClick:e=>e.stopPropagation(),role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"modal-title\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"modal-title\",children:\"\\u0412\\u0445\\u043E\\u0434 \\u0447\\u0435\\u0440\\u0435\\u0437 Telegram\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u0432\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"div\",{ref:modalRef}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-gray\",onClick:()=>setShowModal(false),children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","jsx","_jsx","jsxs","_jsxs","Template","storyText","setStoryText","selectedCharacter","setSelectedCharacter","numImages","setNumImages","errorMessage","setErrorMessage","isLoading","setIsLoading","isAuthorized","setIsAuthorized","showModal","setShowModal","modalRef","navigate","characterTemplates","id","title","description","API_URL","fetch","credentials","then","res","ok","json","Promise","reject","catch","window","onTelegramAuth","user","method","headers","body","JSON","stringify","alert","err","console","error","current","innerHTML","existingScript","document","querySelector","remove","script","createElement","src","async","setAttribute","appendChild","handleSubmit","trim","response","prompt","character_name","num_images","Error","concat","statusText","data","imageBase64List","images","map","img","state","storyline","prompts","className","children","placeholder","value","onChange","e","target","template","onClick","alt","loading","htmlFor","type","min","max","parseInt","disabled","stopPropagation","role","ref"],"sources":["/var/www/storysight/src/pages/Template.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './Template.css';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function Template() {\n  const [storyText, setStoryText] = useState('');\n  const [selectedCharacter, setSelectedCharacter] = useState(null);\n  const [numImages, setNumImages] = useState(1);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [isAuthorized, setIsAuthorized] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const modalRef = useRef(null);\n  const navigate = useNavigate();\n\n  const characterTemplates = [\n    { id: 'cockatiel', title: 'Cockatiel', description: 'Весёлые и неугомонные попугаи. Прорекламируют ваш продукт, если вы, конечно, их поймаете.' },\n    { id: 'cat', title: 'Cat', description: 'Ловкий, пушистый и абсолютно не заинтересован в вашем проекте. Но выглядит шикарно, признайте!' },\n    { id: 'black_bear', title: 'Black bear', description: 'Интроверт из мира медведей. Теперь он путешествует и даже пишет свою книгу. Раньше проживал в России.' },\n    { id: 'raven', title: 'Raven', description: 'Ворон-минималист. Немногословен. Оно и понятно, ведь птицы не говорят. Самое главное, что он здесь.' },\n    { id: 'tiger', title: 'Tiger', description: 'Уверенный, красивый и всё такой же опасный. Харизма на максималках. Хищник, инфлюенсер и икона стиля.' },\n  ];\n\n  const API_URL = 'http://storysight.ru/api/generate-comic';\n\n  // Проверка авторизации при загрузке\n  useEffect(() => {\n    fetch('http://storysight.ru/api/auth/me', {\n      credentials: 'include',\n    })\n      .then(res => res.ok ? res.json() : Promise.reject())\n      .then(() => {\n        setIsAuthorized(true);\n        setShowModal(false);\n      })\n      .catch(() => {\n        setIsAuthorized(false);\n        setShowModal(true);\n      });\n  }, []);\n\n  // Обработчик Telegram авторизации\n  useEffect(() => {\n    window.onTelegramAuth = (user) => {\n      fetch('http://storysight.ru/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify(user),\n      })\n        .then(res => {\n          if (res.ok) {\n            setIsAuthorized(true);\n            setShowModal(false);\n          } else {\n            alert('Ошибка авторизации через Telegram');\n          }\n        })\n        .catch((err) => {\n          console.error('Auth error', err);\n          alert('Ошибка авторизации через Telegram');\n        });\n    };\n\n    return () => {\n      window.onTelegramAuth = null;\n    };\n  }, []);\n\n  // Вставка Telegram-виджета\n  useEffect(() => {\n    if (showModal && modalRef.current) {\n      modalRef.current.innerHTML = '';\n\n      const existingScript = document.querySelector('script[src=\"https://telegram.org/js/telegram-widget.js?22\"]');\n      if (existingScript) existingScript.remove();\n\n      const script = document.createElement('script');\n      script.src = 'https://telegram.org/js/telegram-widget.js?22';\n      script.async = true;\n      script.setAttribute('data-telegram-login', 'zavod_worker_bot');\n      script.setAttribute('data-size', 'large');\n      script.setAttribute('data-userpic', 'false');\n      script.setAttribute('data-onauth', 'onTelegramAuth(user)');\n      script.setAttribute('data-request-access', 'write');\n\n      modalRef.current.appendChild(script);\n    }\n  }, [showModal]);\n\n  const handleSubmit = async () => {\n    if (!isAuthorized) {\n      setErrorMessage('Пожалуйста, авторизуйтесь через Telegram.');\n      setShowModal(true);\n      return;\n    }\n    if (!storyText.trim()) {\n      setErrorMessage('Пожалуйста, введите сюжет.');\n      return;\n    }\n    if (!selectedCharacter) {\n      setErrorMessage('Пожалуйста, выберите персонажа.');\n      return;\n    }\n\n    setErrorMessage('');\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(API_URL, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({\n          prompt: storyText,\n          character_name: selectedCharacter,\n          num_images: numImages,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Ошибка при генерации: ${response.statusText}`);\n      }\n\n      const data = await response.json();\n      const imageBase64List = data.images.map((img) => `data:image/png;base64,${img}`);\n\n      navigate('/result-main', {\n        state: {\n          images: imageBase64List,\n          storyline: data.storyline,\n          prompts: data.prompts || [],\n        }\n      });\n    } catch (error) {\n      console.error('Ошибка:', error);\n      setErrorMessage('Произошла ошибка при генерации. Проверьте подключение и попробуйте снова.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (isAuthorized === null) return <div className=\"choise-wrapper\">Загрузка...</div>;\n\n  return (\n    <div className=\"choise-wrapper\">\n      <h1 className=\"choise-heading\">Создайте свой сторителлинг</h1>\n\n      <textarea\n        className=\"story-textarea\"\n        placeholder=\"Напишите здесь небольшой сюжет вашей истории...\"\n        value={storyText}\n        onChange={(e) => setStoryText(e.target.value)}\n      />\n\n      <div className=\"character-grid\">\n        {characterTemplates.map((template) => (\n          <div\n            key={template.id}\n            className={`character-card-container ${selectedCharacter === template.id ? 'selected' : ''}`}\n            onClick={() => setSelectedCharacter(template.id)}\n          >\n            <div className=\"character-card-inner\">\n              <div className=\"character-card-front\">\n                <img\n                  src={`/images/${template.id}.jpg`}\n                  alt={template.title}\n                  className=\"character-img\"\n                  loading=\"lazy\"\n                />\n                <h3 className=\"character-title\">{template.title}</h3>\n              </div>\n              <div className=\"character-card-back\">\n                <p>{template.description}</p>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"slider-wrapper\">\n        <label htmlFor=\"numImages\" className=\"slider-label\">\n          Количество изображений: {numImages}\n        </label>\n        <input\n          type=\"range\"\n          id=\"numImages\"\n          min=\"1\"\n          max=\"8\"\n          value={numImages}\n          onChange={(e) => setNumImages(parseInt(e.target.value))}\n          className=\"slider\"\n        />\n      </div>\n\n      {errorMessage && <div className=\"error-message\">{errorMessage}</div>}\n\n      <button\n        className=\"generate-btn\"\n        onClick={handleSubmit}\n        disabled={isLoading}\n      >\n        {isLoading ? 'Генерация…' : 'Сгенерировать комикс'}\n      </button>\n\n      <button className=\"back-btn\" onClick={() => navigate(\"/create-choice\")}>\n        Назад\n      </button>\n\n      {showModal && (\n        <div className=\"modal-overlay\" onClick={() => setShowModal(false)}>\n          <div\n            className=\"modal\"\n            onClick={(e) => e.stopPropagation()}\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"modal-title\"\n          >\n            <h2 id=\"modal-title\">Вход через Telegram</h2>\n            <p>Пожалуйста, войдите, чтобы продолжить</p>\n            <div ref={modalRef} />\n            <button className=\"btn btn-gray\" onClick={() => setShowModal(false)}>\n              Закрыть\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}